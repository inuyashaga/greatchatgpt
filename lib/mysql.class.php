<?php
 class Mysql { public function __construct() { $this->conn(); } public $link; public function conn() { goto zkQEd; zkQEd: $cfg = (include "\143\x6f\x6e\146\x69\147\56\160\150\160"); goto TujTP; WOFWI: exit; goto uwW4w; uQPQx: echo "\346\225\260\346\215\256\xe5\xba\x93\351\x93\xbe\xe6\x8e\xa5\345\xa4\xb1\350\264\245\357\xbc\x8c\350\257\267\xe5\x88\260\x2f\x6c\x69\x62\x2f\143\157\156\x66\151\x67\56\160\x68\160\351\x85\x8d\347\xbd\xae\xe6\x95\260\346\215\256\xe5\272\223\xe5\x8d\263\xe5\x8f\xaf\xef\xbc\x81"; goto WOFWI; HF4SP: $this->query("\163\x65\164\40\x6e\x61\x6d\145\163\40" . $cfg["\x63\x68\x61\162\x73\145\164"]); goto hTblK; TujTP: $this->link = new mysqli($cfg["\x68\x6f\x73\x74"], $cfg["\165\163\x65\162"], $cfg["\x70\167\x64"], $cfg["\144\142"]); goto rsE6O; rsE6O: if (!$this->link->connect_errno) { goto UKlwT; } goto uQPQx; uwW4w: UKlwT: goto HF4SP; hTblK: } public function query($sql) { goto NzkUj; mOzPG: goto UZXsY; goto tR64F; MGGed: $this->mLog($sql); goto Favhe; lpstV: return $rs; goto EE2z9; tR64F: zJp31: goto MGGed; gWdIt: $this->mLog($sql . "\12" . mysqli_error($this->link)); goto mOzPG; lPqRL: if ($rs) { goto zJp31; } goto gWdIt; Favhe: UZXsY: goto lpstV; NzkUj: $rs = $this->link->query($sql); goto lPqRL; EE2z9: } public function mLog($str) { goto P6cP0; M1r1f: return file_put_contents($filename, $log, FILE_APPEND); goto WTJc_; fDAXk: $log = "\x2d\55\55\x2d\x2d\x2d\x2d\x2d\55\55\55\55\x2d\x2d\x2d\55\55\x2d\55\x2d\x2d\55\x2d\55\55\x2d\55\x2d\55\x2d\55\x2d\55\55\55\x2d\55\55\55\x2d\55\xa" . date("\x59\x2f\x6d\57\x64\40\x48\x3a\x69\x3a\163") . "\12" . $str . "\12" . "\x2d\55\55\55\55\55\x2d\x2d\55\x2d\x2d\x2d\55\x2d\x2d\55\55\55\x2d\x2d\x2d\x2d\55\x2d\55\55\55\x2d\55\55\55\x2d\x2d\x2d\x2d\55\x2d\x2d\x2d\x2d\55\12\12"; goto M1r1f; P6cP0: $filename = ROOT . "\x2f\154\x6f\147\57" . date("\131\155\x64") . "\56\164\x78\x74"; goto fDAXk; WTJc_: } public function getAll($sql) { goto sTk97; o7PHq: AHJoi: goto fLlrz; zzQkC: IMYIt: goto IrIHl; LWEX0: $data = []; goto zzQkC; VC3LS: $data[] = $row; goto GieNZ; fLlrz: return $data; goto PhfeH; GieNZ: goto IMYIt; goto o7PHq; sTk97: $res = $this->query($sql); goto LWEX0; IrIHl: if (!($row = $res->fetch_assoc())) { goto AHJoi; } goto VC3LS; PhfeH: } public function getRow($sql) { goto Dg831; nC2AQ: $row = $res->fetch_assoc(); goto psLWz; psLWz: return $row; goto OZL_3; Dg831: $res = $this->query($sql); goto nC2AQ; OZL_3: } public function getOne($sql) { goto cbard; GxseV: $row = $res->fetch_row()[0]; goto rcNGe; rcNGe: return $row; goto A9c6_; cbard: $res = $this->query($sql); goto GxseV; A9c6_: } } $mysql = new Mysql();